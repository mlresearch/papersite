# CIP-0001: Unicode Tidying Preprocessing Step for BibTeX Files

## Status
Proposed

## Description
Introduce a preprocessing step in the PMLR pipeline that tidies BibTeX files by replacing all non-ASCII (Unicode) characters with user-supplied ASCII/LaTeX equivalents. This step will be performed before any BibTeX-to-YAML or detexing logic, ensuring that all downstream processing receives ASCII-only input.

## Motivation
- The current unicode replacement logic is embedded in mlresearch.rb and is applied during BibTeX-to-YAML conversion, making the code complex and error-prone.
- Ensuring BibTeX files are ASCII-only before further processing simplifies the pipeline, reduces edge cases, and improves maintainability.
- A standalone tidying script can be reused for any BibTeX file and ensures consistency across all volumes.

## Implementation
- Develop a standalone script (e.g., `tidy_bib_unicode.rb` or `tidy_bib_unicode.py`) that:
  - Reads a `.bib` file.
  - Scans all fields for non-ASCII (Unicode) characters.
  - For each unique Unicode character, prompts the user for a replacement (using a YAML mapping file for suggestions).
  - Applies the replacement throughout the file.
  - Saves the cleaned file (optionally as a new file, e.g., `uai2025_clean.bib`).
  - Updates the YAML mapping file for future runs.
- Reference the unicode replacement logic in the current mlresearch.rb as a source for the user prompt and mapping mechanism.
- Integrate this script as a required preprocessing step in the documentation and workflow for volume preparation.

## Implementation Status
- [ ] Draft CIP
- [ ] Review and feedback
- [ ] Script implementation
- [ ] Documentation update
- [ ] Integration into workflow

## References
- Current unicode replacement logic in `mlresearch.rb`
- [CIP Template](cip_template.md)

## Author and Date
- Author: Neil D. Lawrence
- Date: 2024-07-05 